# artifact-submissions

ðŸš§ This repository is under construction. ðŸš§

This repository is where submissions to add or modify artifacts in [Ace
Archive](https://acearchive.lgbt) are collected for manual review. Want to
submit an artifact to the archive? [Fill out this
form](https://acearchive.lgbt/submit) on the website.

Each submission is a JSON file in the [submissions/](./submissions/) directory
which is generated by a form on Ace Archive. That form redirects users here to
open a PR, passing the file name and JSON body as query parameters.

When a PR is opened,
[acearchive/artifact-submit-action](https://github.com/acearchive/artifact-submit-action)
validates that the artifact submission JSON matches the expected schema. This
action also downloads any files referenced in the submission to determine their
media type and calculate their hash, and then a bot adds those fields to the
JSON file and commits the changes to the branch.

This bot will not attempt to overwrite existing file hashes or media types, so
contributors and reviewers can manually edit the JSON if necessary without the
bot overwriting their changes. Likewise, contributors and reviewers can delete
the file hash or media type fields to have the bot regenerate them.

When a PR is merged, the action downloads the files, re-hashes them to verify
that the contents at the URL haven't changed since the PR was approved, and then
uploads them to Ace Archive.

Additionally,
[acearchive/hugo-artifact-action](https://github.com/acearchive/hugo-artifact-action)
is used to automatically generate static assets from the artifact submissions
which are used to build the static site.
